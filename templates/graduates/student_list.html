{% extends 'graduates/main.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block subtitle %}List of Registered Students {% endblock %}
{% block first %}Home {% endblock %}
{% block second %}Student entry{% endblock %}
{% block content%}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.js" integrity="sha256-2JRzNxMJiS0aHOJjG+liqsEOuBb6++9cY4dSOyiijX4=" crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

   
    <div>
        {% if messages %}
        {% for m in messages %}
        <script>
          Swal.fire({
            "title":"Success!",
            "text":"{{m}}",
            "icon":"success",
            "width":400,
            "height":100,

          })
        </script>
        {% endfor %}
        {% endif %}
    
      </div>
      <div class="row mt-3 mb-3">
        <div class="col-sm-5">
          <form action="{% url 'graduates:search' %}" method="GET">
            <div class="card">
            <h5 class="card-header">Delete Multiple records</h5>
            <div class="card-body">
              <label for="date" >Select Date to delete multiple records</label>
              <div class="input-group">
              <input type="date" name="date" class="form-control" id="date" placeholder="Select Date to delete multiple records" required/>
               <button type="submit" class="btn btn-danger btn-sm ml-2" >
                   <i class="fa fa-trash-alt text-white"></i>
               </button>
              </div>
               
            </div>
        
          </div>
        </form>
        </div>
        <div class="col-sm-6">
          <form action="{% url 'graduates:search' %}" method="GET">
            <div class="card">
            <h5 class="card-header">Student records</h5>
            <div class="card-body">
               
            </div>
        
          </div>
        </form>
        </div>
        </div>
      
    


<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h3 class="card-title text-info">Student Registry</h3>
        <div class="card-tools">
          <div class="input-group input-group-sm" >
            <form method="GET">
              <div class=" p-1" >
                {{graduateFilter.form}}
                <button type="submit" class="btn btn-info btn-sm mb-1" >
                  <i class="fas fa-search"></i>
                </button>
                
              </div>
            
            
            </form>
          </div>
        </div>
      </div>
      <!-- ./card-header -->
      <div class="card-body">
        <table class="table  table-hover">
          <thead >
            <tr>
              <th>Image</th>
              <th>Id</th>
              <th>Student</th>
              <th>Registration Date</th>
              <th class="text-secondary text-center">Academical Status</th>
             
            </tr>
          </thead>
          <tbody>
            {% for graduate in graduates %}
            <!--<tr data-widget="expandable-table" aria-expanded="false">-->
            <tr >
              <td> 
                <a href="{% url 'graduates:profile' graduate.id %}">
                <img  class="rounded-circle account-img" 
                style="width:50px; height: 50px;" src="{{graduate.profile.image.url}}" alt="wrong"> </td>
              </a>
              <td>{{graduate.id}}</td>
              <td>{{graduate}}</td>
              <td>{{graduate.registration_year}}</td>
              <td class="text-center">
                <a href=" {% url 'graduates:status_detail' graduate.id %}" ><i class="fas fa-ellipsis-v text-dark "></i></a>
              </td>
            </tr>
            {% endfor %}
            
            </tbody>
        </table>
      </div>
      <!-- /.card-body -->
    </div>
    <!-- /.card -->
  </div>
</div>
<script>
    
  $('#datetimepicker1').datetimepicker({
      timepicker:false,
      datepicket:true,
      format:'YYYY-MM-DD', 
      weeks:true
  });
  

</script>

{% endblock %}
