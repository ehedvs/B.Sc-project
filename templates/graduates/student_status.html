{% extends 'graduates/main.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% block subtitle %}Student Academical Status {% endblock %}
{% block first %}Home {% endblock %}
{% block second %}Student Status{% endblock %}
{% block content%}
<div>
  {% if messages %}
  {% for m in messages %}
  <script>
    Swal.fire({
      "title":"Success!",
      "text":"{{m}}",
      "icon":"success",
      "width":400,
      "height":100,

    })
  </script>
  {% endfor %}
  {% endif %}

</div>

  <div class="col">
    <div class="card card-body pl-5">
      <form method="GET">
        <h6 class="text-purple"><i class="fas fa-filter mr-1 "></i>Filter Data</h6>
        <hr>
      <div class="row ml-5">
        <div class="form-group col-sm-4 col-md-3">
          <span class="text-muted"> {{myfilter.form.batch.label_tag}}</span>
         
          {% render_field myfilter.form.batch class="form-control text-success " %}
        </div>
        <div class="form-group col-sm-4 col-md-3">
          <span class="text-muted"> {{myfilter.form.semester.label_tag}}</span>
         
          {% render_field myfilter.form.semester class="form-control text-success" %}
        </div>
        <div class="form-group col-sm-4 col-md-3">
          <span class="text-muted"> {{myfilter.form.academic_status.label_tag}}</span>
         
          {% render_field myfilter.form.academic_status class="form-control text-success" %}
        </div>
        <div class="form-group col-sm-4 col-md-3 mt-auto">
          <button class="btn btn-success" type="submit"><i class="fas fa-search mr-1 "></i>Search</button>
        </div>
        
      </div>

      

      </form>
    </div>
  </div>


<div class="col-md-12">
  <div class="card">
    <div class="card-header text-center">
      <h3 class="card-title text-olive " >Academical Status</h3>
      <div class="card-tools">
        <div class="input-group input-group-sm" >
          <i class="fas fa-history text-olive"></i>
              
        </div>
      </div>
    </div>
   
    <!-- /.card-header -->
    <div class="card-body p-3 ">
      <table class="table table-striped   academical_table" >
        <thead >
          <tr>
          
            <th>Name</th>
            <th>Batch</th>
            <th>Semester</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
            {% for student in students %}
          <tr>
           
            <td>{{student.student}}</td>
            <td>{{student.get_batch_display}}</td>
           <td>{{student.get_semester_display}}</td>
           {% if student.academic_status == "promoted" %}
           <td class="text-success">Promoted</td>
           {% endif %}
           {% if student.academic_status == "failed" %}
           <td class="text-danger">Failed</td>
           {% endif %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <!-- /.card-body -->
  </div>
  <!-- /.card -->


  <!-- /.card -->
</div>

<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>

<!-- e-HEDVS App -->
<script src=" {% static 'dist/js/e-hedvs.min.js' %}"></script>
<script>
    $('.academical_table').DataTable({
        ordering:false,
        lengthMenu:[[5,10,15,50,-1],[5,10,15,50,"All"]],
       
    });
</script>

{% endblock %}